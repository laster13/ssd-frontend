{"openapi":"3.1.0","info":{"title":"Riven","summary":"A media management system.","license":{"name":"GPL-3.0","url":"https://www.gnu.org/licenses/gpl-3.0.en.html"},"version":"0.1.0"},"paths":{"/api/v1/":{"get":{"summary":"Root","operationId":"root","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RootResponse"}}}}}}},"/api/v1/health":{"get":{"summary":"Health","operationId":"health","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/rd":{"get":{"summary":"Get Rd User","operationId":"rd","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RDUser"}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/generateapikey":{"post":{"summary":"Generate Apikey","operationId":"generateapikey","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/torbox":{"get":{"summary":"Get Torbox User","operationId":"torbox","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/services":{"get":{"summary":"Get Services","operationId":"services","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"boolean"},"type":"object","title":"Response Services"}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/trakt/oauth/initiate":{"get":{"summary":"Initiate Trakt Oauth","operationId":"trakt_oauth_initiate","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TraktOAuthInitiateResponse"}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/trakt/oauth/callback":{"get":{"summary":"Trakt Oauth Callback","operationId":"trakt_oauth_callback","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/logs":{"get":{"summary":"Get Logs","operationId":"logs","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"string","title":"Response Logs"}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/mount":{"get":{"summary":"Get Rclone Files","description":"Get all files in the rclone mount.","operationId":"mount","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Mount"}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/upload_logs":{"post":{"summary":"Upload Logs","description":"Upload the latest log file to paste.c-net.org","operationId":"upload_logs","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadLogsResponse"}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/scripts/check-file":{"get":{"tags":["scripts"],"summary":"Check File","operationId":"check_file_api_v1_scripts_check_file_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/api/v1/scripts/run/{script_name}":{"get":{"tags":["scripts"],"summary":"Run Script","operationId":"run_script_api_v1_scripts_run__script_name__get","parameters":[{"name":"script_name","in":"path","required":true,"schema":{"type":"string","title":"Script Name"}},{"name":"label","in":"query","required":false,"schema":{"type":"string","description":"Label du conteneur","title":"Label"},"description":"Label du conteneur"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/scripts/update-config":{"post":{"tags":["scripts"],"summary":"Update Config","operationId":"update_config_api_v1_scripts_update_config_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/api/v1/settings/schema":{"get":{"tags":["settings"],"summary":"Get Settings Schema","description":"Get the JSON schema for the settings.","operationId":"get_settings_schema","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Settings Schema"}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/settings/load":{"get":{"tags":["settings"],"summary":"Load Settings","operationId":"load_settings","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/settings/save":{"post":{"tags":["settings"],"summary":"Save Settings","operationId":"save_settings","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/settings/get/all":{"get":{"tags":["settings"],"summary":"Get All Settings","operationId":"get_all_settings","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppModel"}}}},"404":{"description":"Not found"}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/settings/get/{paths}":{"get":{"tags":["settings"],"summary":"Get Settings","operationId":"get_settings","security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}],"parameters":[{"name":"paths","in":"path","required":true,"schema":{"type":"string","title":"Paths"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Settings"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/settings/set/all":{"post":{"tags":["settings"],"summary":"Set All Settings","operationId":"set_all_settings","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"New Settings"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}},"/api/v1/settings/set":{"post":{"tags":["settings"],"summary":"Set Settings","operationId":"set_settings","requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SetSettings"},"type":"array","title":"Settings"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]},{"HTTPBearer":[]}]}}},"components":{"schemas":{"AppModel":{"properties":{"version":{"type":"string","title":"Version","default":"0.1.0"},"api_key":{"type":"string","title":"Api Key","default":""},"debug":{"type":"boolean","title":"Debug","default":true},"log":{"type":"boolean","title":"Log","default":true},"utilisateur":{"$ref":"#/components/schemas/UtilisateurModel","default":{"username":"","email":"","domain":"","password":"","oauth_enabled":false,"oauth_client":"","oauth_secret":"","oauth_mail":"","zurg_enabled":false,"zurg_token":""}},"cloudflare":{"$ref":"#/components/schemas/CloudflareModel","default":{"cloudflare_login":"","cloudflare_api_key":""}},"dossiers":{"$ref":"#/components/schemas/DossierModel","default":{"on_item_type":[],"authentification":{},"domaine":{}}},"media":{"$ref":"#/components/schemas/MediaModel","default":{"on_item_type":[]}},"applications":{"items":{"$ref":"#/components/schemas/ApplicationModel"},"type":"array","title":"Applications","default":[]}},"type":"object","title":"AppModel"},"ApplicationModel":{"properties":{"id":{"type":"integer","title":"Id","default":1},"label":{"type":"string","title":"Label","default":""}},"type":"object","title":"ApplicationModel"},"CloudflareModel":{"properties":{"cloudflare_login":{"type":"string","title":"Cloudflare Login","default":""},"cloudflare_api_key":{"type":"string","title":"Cloudflare Api Key","default":""}},"type":"object","title":"CloudflareModel"},"DossierModel":{"properties":{"on_item_type":{"items":{"type":"string"},"type":"array","title":"On Item Type","default":[]},"authentification":{"additionalProperties":{"type":"string"},"type":"object","title":"Authentification"},"domaine":{"additionalProperties":true,"type":"object","title":"Domaine"}},"type":"object","title":"DossierModel"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MediaModel":{"properties":{"on_item_type":{"items":{"type":"string"},"type":"array","title":"On Item Type","default":[]}},"type":"object","title":"MediaModel"},"MessageResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"MessageResponse"},"RDUser":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"points":{"type":"integer","title":"Points","description":"User's RD points"},"locale":{"type":"string","title":"Locale"},"avatar":{"type":"string","title":"Avatar","description":"URL to the user's avatar"},"type":{"type":"string","enum":["free","premium"],"title":"Type"},"premium":{"type":"integer","title":"Premium","description":"Premium subscription left in seconds"}},"type":"object","required":["id","username","email","points","locale","avatar","type","premium"],"title":"RDUser"},"RootResponse":{"properties":{"message":{"type":"string","title":"Message"},"version":{"type":"string","title":"Version"}},"type":"object","required":["message","version"],"title":"RootResponse"},"SetSettings":{"properties":{"key":{"type":"string","title":"Key"},"value":{"title":"Value"}},"type":"object","required":["key","value"],"title":"SetSettings"},"TraktOAuthInitiateResponse":{"properties":{"auth_url":{"type":"string","title":"Auth Url"}},"type":"object","required":["auth_url"],"title":"TraktOAuthInitiateResponse"},"UploadLogsResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url","description":"URL to the uploaded log file. 50M Filesize limit. 180 day retention."}},"type":"object","required":["success","url"],"title":"UploadLogsResponse"},"UtilisateurModel":{"properties":{"username":{"type":"string","title":"Username","default":""},"email":{"type":"string","title":"Email","default":""},"domain":{"type":"string","title":"Domain","default":""},"password":{"type":"string","title":"Password","default":""},"oauth_enabled":{"type":"boolean","title":"Oauth Enabled","default":false},"oauth_client":{"type":"string","title":"Oauth Client","default":""},"oauth_secret":{"type":"string","title":"Oauth Secret","default":""},"oauth_mail":{"type":"string","title":"Oauth Mail","default":""},"zurg_enabled":{"type":"boolean","title":"Zurg Enabled","default":false},"zurg_token":{"type":"string","title":"Zurg Token","default":""}},"type":"object","title":"UtilisateurModel"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","in":"header","name":"x-api-key"},"HTTPBearer":{"type":"http","scheme":"bearer"}}}}